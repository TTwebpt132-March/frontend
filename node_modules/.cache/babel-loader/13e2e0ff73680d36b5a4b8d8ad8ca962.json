{"ast":null,"code":"import axiosWithAuth from '../Utils/axiosWithAuth.js';\nimport jwt_decode from 'jwt-decode';\nexport const FETCH_REQUEST_PROGRESS = 'FETCH_REQUEST_PROGRESS';\nexport const FETCH_REQUEST_SUCCESS = 'FETCH_REQUEST_SUCCESS';\nexport const FETCH_REQUEST_FAILURE = \"FETCH_REQUEST_FAILURE\";\nexport const ADD_NEW_RECIPE = \"ADD_NEW_RECIPE\";\nexport const SET_ERROR_MESSAGE = \"SET_ERROR_MESSAGE\";\nexport const EDIT_RECIPE = \"EDIT_RECIPE\";\nexport const DELETE_RECIPE = \"DELETE_RECIPE\";\nexport const SEARCH_RECIPE = \"SEARCH_RECIPE\";\nexport const CLEAR_SEARCH = \"CLEAR_SEARCH\";\nexport const clearSearch = () => {\n  return {\n    type: CLEAR_SEARCH\n  };\n};\nexport const searchRecipe = searchTerm => {\n  return {\n    type: SEARCH_RECIPE,\n    payload: searchTerm\n  };\n};\nexport const setError = errorMessage => {\n  return {\n    type: SET_ERROR_MESSAGE,\n    payload: errorMessage\n  };\n}; //This helps us decode the token\n\nlet decoded = \" \";\nlet token = localStorage.getItem('authToken');\n\nif (token) {\n  decoded = jwt_decode(token);\n  console.log(decoded);\n}\n\nexport const fetchRecipes = id => dispatch => {\n  dispatch({\n    type: FETCH_REQUEST_PROGRESS\n  });\n  axiosWithAuth().get(`/api/users/${id}/recipes`).then(res => {\n    console.log(res);\n    dispatch({\n      type: FETCH_REQUEST_SUCCESS,\n      payload: res.data.recipes\n    });\n  }).catch(err => {\n    console.log(err.message);\n    dispatch({\n      type: FETCH_REQUEST_FAILURE,\n      payload: err.message\n    });\n  });\n};\nexport const deleteRecipe = id => dispatch => {\n  axiosWithAuth().delete(`/api/recipes/${id}`).then(res => {\n    console.log(res);\n  }).catch(err => {\n    console.log(err.message);\n    dispatch({\n      type: FETCH_REQUEST_FAILURE,\n      payload: err.message\n    });\n  });\n};\nexport const updateRecipe = (id, newObj, user_id) => dispatch => {\n  axiosWithAuth().put(`/api/recipes/${id}`, {\n    user_id: user_id,\n    title: newObj.title,\n    source: newObj.recipe_source,\n    ingredients: newObj.recipe_ingredients,\n    category: newObj.recipe_category,\n    instructions: newObj.recipe_instructions\n  }).then(res => {\n    console.log(res);\n  }).catch(err => {\n    console.log(err.message);\n    dispatch({\n      type: FETCH_REQUEST_FAILURE,\n      payload: err.message\n    });\n  });\n};\nexport const addRecipe = (recipeObj, userID) => dispatch => {\n  axiosWithAuth().post(`/api/recipes`, { ...recipeObj,\n    user_id: userID\n  }).then(res => {\n    console.log(res.data);\n  }).catch(err => {\n    console.log(err.message);\n    dispatch({\n      type: FETCH_REQUEST_FAILURE,\n      payload: err.message\n    });\n  });\n};","map":{"version":3,"sources":["/Users/jayaramnair/Desktop/Lambda School/repos/Build-Week/frontend/recipes/src/actions/index.js"],"names":["axiosWithAuth","jwt_decode","FETCH_REQUEST_PROGRESS","FETCH_REQUEST_SUCCESS","FETCH_REQUEST_FAILURE","ADD_NEW_RECIPE","SET_ERROR_MESSAGE","EDIT_RECIPE","DELETE_RECIPE","SEARCH_RECIPE","CLEAR_SEARCH","clearSearch","type","searchRecipe","searchTerm","payload","setError","errorMessage","decoded","token","localStorage","getItem","console","log","fetchRecipes","id","dispatch","get","then","res","data","recipes","catch","err","message","deleteRecipe","delete","updateRecipe","newObj","user_id","put","title","source","recipe_source","ingredients","recipe_ingredients","category","recipe_category","instructions","recipe_instructions","addRecipe","recipeObj","userID","post"],"mappings":"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","sourcesContent":["import axiosWithAuth from '../Utils/axiosWithAuth.js';\nimport jwt_decode from 'jwt-decode';\n\nexport const FETCH_REQUEST_PROGRESS = 'FETCH_REQUEST_PROGRESS';\nexport const FETCH_REQUEST_SUCCESS = 'FETCH_REQUEST_SUCCESS';\nexport const FETCH_REQUEST_FAILURE = \"FETCH_REQUEST_FAILURE\";\nexport const ADD_NEW_RECIPE = \"ADD_NEW_RECIPE\";\nexport const SET_ERROR_MESSAGE = \"SET_ERROR_MESSAGE\";\nexport const EDIT_RECIPE = \"EDIT_RECIPE\";\nexport const DELETE_RECIPE = \"DELETE_RECIPE\";\nexport const SEARCH_RECIPE = \"SEARCH_RECIPE\";\nexport const CLEAR_SEARCH = \"CLEAR_SEARCH\";\n\nexport const clearSearch = () => {\n    return { type: CLEAR_SEARCH };\n}\n\nexport const searchRecipe = (searchTerm) => {\n    return { type: SEARCH_RECIPE, payload: searchTerm };\n}\n\nexport const setError = (errorMessage) => {\n    return { type: SET_ERROR_MESSAGE, payload: errorMessage };\n}\n\n//This helps us decode the token\nlet decoded = \" \"\nlet token = localStorage.getItem('authToken');\nif (token) {\n    decoded = jwt_decode(token);\n    console.log(decoded);\n}\n\nexport const fetchRecipes = (id) => (dispatch) => {\n    dispatch({ type: FETCH_REQUEST_PROGRESS })\n\n    axiosWithAuth().get(`/api/users/${id}/recipes`)\n        .then((res) => {\n            console.log(res);\n            dispatch({ type: FETCH_REQUEST_SUCCESS, payload: res.data.recipes })\n        })\n        .catch((err) => {\n            console.log(err.message);\n            dispatch({ type: FETCH_REQUEST_FAILURE, payload: err.message })\n        })\n}\n\n\nexport const deleteRecipe = (id) => (dispatch) => {\n    axiosWithAuth().delete(`/api/recipes/${id}`)\n        .then((res) => {\n            console.log(res);\n        })\n        .catch((err) => {\n            console.log(err.message);\n            dispatch({ type: FETCH_REQUEST_FAILURE, payload: err.message });\n        })\n}\n\nexport const updateRecipe = (id, newObj, user_id) => (dispatch) => {\n\n    axiosWithAuth().put(`/api/recipes/${id}`, {\n        user_id: user_id, title: newObj.title, source: newObj.recipe_source, ingredients: newObj.recipe_ingredients,\n        category: newObj.recipe_category, instructions: newObj.recipe_instructions\n    })\n        .then((res) => {\n            console.log(res);\n        })\n        .catch((err) => {\n            console.log(err.message);\n            dispatch({ type: FETCH_REQUEST_FAILURE, payload: err.message });\n        })\n}\n\nexport const addRecipe = (recipeObj, userID) => (dispatch) => {\n    axiosWithAuth().post(`/api/recipes`, { ...recipeObj, user_id: userID })\n        .then((res) => {\n            console.log(res.data);\n        }).catch((err) => {\n            console.log(err.message);\n            dispatch({ type: FETCH_REQUEST_FAILURE, payload: err.message });\n        })\n}\n\n"]},"metadata":{},"sourceType":"module"}