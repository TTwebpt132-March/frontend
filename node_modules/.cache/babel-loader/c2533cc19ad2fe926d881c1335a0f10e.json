{"ast":null,"code":"import { FETCH_REQUEST_PROGRESS, FETCH_REQUEST_SUCCESS, FETCH_REQUEST_FAILURE, SET_ERROR_MESSAGE, SEARCH_RECIPE, EMPTY_STATE } from '../actions/index.js';\nconst initialState = {\n  recipes: [],\n  loading: false,\n  error: ''\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_REQUEST_PROGRESS:\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_REQUEST_SUCCESS:\n      return { ...state,\n        loading: false,\n        recipes: action.payload,\n        error: ''\n      };\n\n    case FETCH_REQUEST_FAILURE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    /*\n    case ADD_NEW_RECIPE:\n        return { ...state, loading: false, error: '', recipes: [...state.recipes, action.payload] }\n    */\n\n    /*\n    case EDIT_RECIPE: {\n        const index = state.recipes.findIndex((recipe) => recipe.id === action.payload.id);\n        const newArray = [...state.recipes];\n        newArray[index] = action.payload;\n        return {\n            ...state, recipes: newArray,\n        }\n    }\n    */\n\n    case SET_ERROR_MESSAGE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case SEARCH_RECIPE:\n      return { ...state,\n        loading: false,\n        recipes: state.recipes.filter(search(action.payload))\n      };\n\n    /*recipe.title.toLowerCase() === action.payload.toLowerCase() */\n\n    /*\n    case CLEAR_SEARCH:\n        return { ...state, loading: false, recipes: [...fakeRecipeData] };\n    */\n\n    case EMPTY_STATE:\n      return { ...state,\n        loading: true,\n        recipes: []\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst search = (searchTerm, recipe) => {\n  if (recipe.title.includes(searchTerm)) {\n    return recipe;\n  } else if (recipe.recipe_category.includes(searchTerm)) {\n    return recipe;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/jayaramnair/Desktop/Lambda School/repos/Build-Week/frontend/recipes/src/reducers/index.js"],"names":["FETCH_REQUEST_PROGRESS","FETCH_REQUEST_SUCCESS","FETCH_REQUEST_FAILURE","SET_ERROR_MESSAGE","SEARCH_RECIPE","EMPTY_STATE","initialState","recipes","loading","error","reducer","state","action","type","payload","filter","search","searchTerm","recipe","title","includes","recipe_category"],"mappings":"AAAA,SACIA,sBADJ,EAEIC,qBAFJ,EAGIC,qBAHJ,EAIIC,iBAJJ,EAKIC,aALJ,EAMIC,WANJ,QAOO,qBAPP;AASA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAE,EADQ;AAEjBC,EAAAA,OAAO,EAAE,KAFQ;AAGjBC,EAAAA,KAAK,EAAE;AAHU,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKb,sBAAL;AACI,aAAO,EAAE,GAAGW,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACJ,SAAKP,qBAAL;AACI,aAAO,EAAE,GAAGU,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BD,QAAAA,OAAO,EAAEK,MAAM,CAACE,OAA5C;AAAqDL,QAAAA,KAAK,EAAE;AAA5D,OAAP;;AACJ,SAAKP,qBAAL;AACI,aAAO,EAAE,GAAGS,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAA1C,OAAP;;AACJ;AACR;AACA;AACA;;AAEQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACQ,SAAKX,iBAAL;AACI,aAAO,EAAE,GAAGQ,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAA1C,OAAP;;AACJ,SAAKV,aAAL;AACI,aAAO,EACH,GAAGO,KADA;AACOH,QAAAA,OAAO,EAAE,KADhB;AAEHD,QAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAN,CAAcQ,MAAd,CAAqBC,MAAM,CAACJ,MAAM,CAACE,OAAR,CAA3B;AAFN,OAAP;;AAIJ;;AACA;AACR;AACA;AACA;;AACQ,SAAKT,WAAL;AACI,aAAO,EAAE,GAAGM,KAAL;AAAYH,QAAAA,OAAO,EAAE,IAArB;AAA2BD,QAAAA,OAAO,EAAE;AAApC,OAAP;;AACJ;AACI,aAAOI,KAAP;AArCR;AAuCH,CAxCD;;AA0CA,MAAMK,MAAM,GAAG,CAACC,UAAD,EAAaC,MAAb,KAAwB;AACnC,MAAIA,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBH,UAAtB,CAAJ,EAAuC;AACnC,WAAOC,MAAP;AACH,GAFD,MAEO,IAAIA,MAAM,CAACG,eAAP,CAAuBD,QAAvB,CAAgCH,UAAhC,CAAJ,EAAiD;AACpD,WAAOC,MAAP;AACH;AACJ,CAND;;AAQA,eAAeR,OAAf","sourcesContent":["import {\n    FETCH_REQUEST_PROGRESS,\n    FETCH_REQUEST_SUCCESS,\n    FETCH_REQUEST_FAILURE,\n    SET_ERROR_MESSAGE,\n    SEARCH_RECIPE,\n    EMPTY_STATE\n} from '../actions/index.js';\n\nconst initialState = {\n    recipes: [],\n    loading: false,\n    error: ''\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FETCH_REQUEST_PROGRESS:\n            return { ...state, loading: true }\n        case FETCH_REQUEST_SUCCESS:\n            return { ...state, loading: false, recipes: action.payload, error: '' }\n        case FETCH_REQUEST_FAILURE:\n            return { ...state, loading: false, error: action.payload }\n        /*\n        case ADD_NEW_RECIPE:\n            return { ...state, loading: false, error: '', recipes: [...state.recipes, action.payload] }\n        */\n\n        /*\n        case EDIT_RECIPE: {\n            const index = state.recipes.findIndex((recipe) => recipe.id === action.payload.id);\n            const newArray = [...state.recipes];\n            newArray[index] = action.payload;\n            return {\n                ...state, recipes: newArray,\n            }\n        }\n        */\n        case SET_ERROR_MESSAGE:\n            return { ...state, loading: false, error: action.payload }\n        case SEARCH_RECIPE:\n            return {\n                ...state, loading: false,\n                recipes: state.recipes.filter(search(action.payload))\n            }\n        /*recipe.title.toLowerCase() === action.payload.toLowerCase() */\n        /*\n        case CLEAR_SEARCH:\n            return { ...state, loading: false, recipes: [...fakeRecipeData] };\n        */\n        case EMPTY_STATE:\n            return { ...state, loading: true, recipes: [] };\n        default:\n            return state;\n    }\n}\n\nconst search = (searchTerm, recipe) => {\n    if (recipe.title.includes(searchTerm)) {\n        return recipe;\n    } else if (recipe.recipe_category.includes(searchTerm)) {\n        return recipe;\n    }\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}