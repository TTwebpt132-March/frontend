{"ast":null,"code":"var _jsxFileName = \"/Users/jayaramnair/Desktop/Lambda School/repos/Build-Week/frontend/recipes/src/Components/recipeform.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Container } from 'reactstrap';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { addRecipe } from '../actions/index.js';\nimport axiosWithAuth from '../Utils/axiosWithAuth.js';\nimport jwt_decode from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RecipeForm = props => {\n  _s();\n\n  const history = useHistory();\n  const initialFormValues = {\n    title: '',\n    source: '',\n    ingredients: [],\n    category: [],\n    instructions: ''\n  };\n  let decoded = \" \";\n  let token = localStorage.getItem('authToken');\n\n  if (token) {\n    decoded = jwt_decode(token);\n    console.log(decoded);\n  }\n\n  const [form, setForm] = useState(initialFormValues);\n\n  const addIngredients = evt => {\n    evt.preventDefault();\n    setForm({ ...form,\n      ingredients: [...form.ingredients, \"\"]\n    });\n  };\n\n  const addCategory = evt => {\n    evt.preventDefault();\n    setForm({ ...form,\n      category: [...form.category, \"\"]\n    });\n  };\n\n  const nonDynamicChange = evt => {\n    console.log(evt.target.name, evt.target.value);\n    setForm({ ...form,\n      [evt.target.name]: evt.target.value\n    });\n  };\n\n  const categoryChange = evt => {\n    console.log(evt.target.name, evt.target.value);\n    const updatedCategory = [...form.category];\n    updatedCategory[evt.target.dataset.idx] = evt.target.value;\n    setForm({ ...form,\n      category: updatedCategory\n    });\n  };\n\n  const ingredientChange = evt => {\n    console.log(evt.target.name, evt.target.value);\n    const updatedIngredients = [...form.ingredients];\n    updatedIngredients[evt.target.dataset.idx] = evt.target.value;\n    setForm({ ...form,\n      ingredients: updatedIngredients\n    });\n  };\n\n  const navigateFunction = evt => {\n    history.push('/dashboard');\n  };\n\n  const formSubmit = evt => {\n    ///api//recipes\n    evt.preventDefault();\n    console.log(form);\n    axiosWithAuth().post(`/api/recipes`, { ...form,\n      user_id: decoded.userID\n    }).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err.message);\n    }); //props.addRecipe(form);\n    //setForm(initialFormValues);\n    //history.push(\"/dashboard\");\n  };\n\n  const deleteIngredients = (evt, ind) => {\n    evt.preventDefault();\n    const ingredientList = [...form.ingredients];\n    ingredientList.splice(ind, 1);\n    setForm({ ...form,\n      ingredients: ingredientList\n    });\n  };\n\n  const deleteCategories = (evt, ind) => {\n    evt.preventDefault();\n    const categoryList = [...form.category];\n    categoryList.splice(ind, 1);\n    setForm({ ...form,\n      category: categoryList\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"themed-container form-container\",\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"navButton\",\n        onClick: navigateFunction,\n        children: \"Return to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"recipeForm\",\n        onSubmit: formSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Enter Recipe:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recipeTitle\",\n            children: \" Title: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"recipeTitle\",\n            name: \"title\",\n            value: form.title,\n            placeholder: \"Recipe Title\",\n            onChange: nonDynamicChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recipeSource\",\n            children: \" Source: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"recipeSource\",\n            name: \"source\",\n            value: form.source,\n            placeholder: \"Ex. Grandma, Mom\",\n            onChange: nonDynamicChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), form.ingredients.map((val, idx) => {\n          const ingredientId = `name-${idx}`;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ingredients form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: ingredientId,\n              children: `Ingredient #${idx + 1}: `\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: ingredientId,\n              \"data-idx\": idx,\n              value: form.ingredients[idx],\n              id: ingredientId,\n              placeholder: `Enter Ingredient`,\n              onChange: ingredientChange,\n              className: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: evt => deleteIngredients(evt, idx),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this)]\n          }, `ingredient-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addIngredients,\n          children: \"Add Ingredients\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), form.category.map((val, idx) => {\n          const categoryId = `name-${idx}`;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: categoryId,\n              children: `Category #${idx + 1}: `\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: categoryId,\n              placeholder: `Enter Category`,\n              \"data-idx\": idx,\n              value: form.category[idx],\n              id: categoryId,\n              className: \"type\",\n              onChange: categoryChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: evt => deleteCategories(evt, idx),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 37\n            }, this)]\n          }, `category-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addCategory,\n          children: \"Add Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recipeInstructions\",\n            children: \" Instructions: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"recipeInstructions\",\n            name: \"instructions\",\n            value: form.instructions,\n            placeholder: \"Instructions\",\n            onChange: nonDynamicChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RecipeForm, \"7pmnRYTAu+Y60TMTvMQ9O6nWnj4=\", false, function () {\n  return [useHistory];\n});\n\n_c = RecipeForm;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addRecipe: obj => dispatch(addRecipe(obj))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(RecipeForm);\n/*\nRecipeForm should have a title, source (ex Grandma), ingredients, instructions, and category (dinner, chicken, dessert, pasta)\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeForm\");","map":{"version":3,"sources":["/Users/jayaramnair/Desktop/Lambda School/repos/Build-Week/frontend/recipes/src/Components/recipeform.js"],"names":["React","useState","Container","useHistory","connect","addRecipe","axiosWithAuth","jwt_decode","RecipeForm","props","history","initialFormValues","title","source","ingredients","category","instructions","decoded","token","localStorage","getItem","console","log","form","setForm","addIngredients","evt","preventDefault","addCategory","nonDynamicChange","target","name","value","categoryChange","updatedCategory","dataset","idx","ingredientChange","updatedIngredients","navigateFunction","push","formSubmit","post","user_id","userID","then","res","data","catch","err","message","deleteIngredients","ind","ingredientList","splice","deleteCategories","categoryList","map","val","ingredientId","categoryId","mapDispatchToProps","dispatch","obj"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Container } from 'reactstrap';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { addRecipe } from '../actions/index.js';\nimport axiosWithAuth from '../Utils/axiosWithAuth.js';\nimport jwt_decode from 'jwt-decode';\n\nconst RecipeForm = (props) => {\n    const history = useHistory();\n\n    const initialFormValues = {\n        title: '',\n        source: '',\n        ingredients: [],\n        category: [],\n        instructions: ''\n    }\n\n    let decoded = \" \"\n    let token = localStorage.getItem('authToken');\n    if (token) {\n        decoded = jwt_decode(token);\n        console.log(decoded);\n    }\n\n\n    const [form, setForm] = useState(initialFormValues)\n\n    const addIngredients = (evt) => {\n        evt.preventDefault();\n        setForm({ ...form, ingredients: [...form.ingredients, \"\"] })\n    }\n\n    const addCategory = (evt) => {\n        evt.preventDefault();\n        setForm({ ...form, category: [...form.category, \"\"] })\n    }\n\n    const nonDynamicChange = (evt) => {\n        console.log(evt.target.name, evt.target.value)\n        setForm({ ...form, [evt.target.name]: evt.target.value })\n    }\n\n    const categoryChange = (evt) => {\n        console.log(evt.target.name, evt.target.value)\n        const updatedCategory = [...form.category];\n        updatedCategory[evt.target.dataset.idx] = evt.target.value;\n        setForm({ ...form, category: updatedCategory });\n    }\n\n    const ingredientChange = (evt) => {\n        console.log(evt.target.name, evt.target.value)\n        const updatedIngredients = [...form.ingredients];\n        updatedIngredients[evt.target.dataset.idx] = evt.target.value;\n        setForm({ ...form, ingredients: updatedIngredients });\n    }\n\n    const navigateFunction = (evt) => {\n        history.push('/dashboard');\n    }\n\n    const formSubmit = (evt) => {\n        ///api//recipes\n        evt.preventDefault();\n        console.log(form)\n\n        axiosWithAuth().post(`/api/recipes`, { ...form, user_id: decoded.userID })\n            .then((res) => {\n                console.log(res.data);\n            }).catch((err) => {\n                console.log(err.message);\n            })\n        //props.addRecipe(form);\n        //setForm(initialFormValues);\n        //history.push(\"/dashboard\");\n    }\n\n    const deleteIngredients = (evt, ind) => {\n        evt.preventDefault();\n        const ingredientList = [...form.ingredients];\n        ingredientList.splice(ind, 1);\n        setForm({ ...form, ingredients: ingredientList });\n    }\n\n    const deleteCategories = (evt, ind) => {\n        evt.preventDefault();\n        const categoryList = [...form.category];\n        categoryList.splice(ind, 1);\n        setForm({ ...form, category: categoryList });\n    }\n\n    return (\n        <div>\n            <Container className=\"themed-container form-container\" fluid={true}>\n                <button className=\"navButton\" onClick={navigateFunction}>Return to Dashboard</button>\n                <form className=\"recipeForm\" onSubmit={formSubmit}>\n                    <h3>Enter Recipe:</h3>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"recipeTitle\"> Title: </label>\n                        <input\n                            id=\"recipeTitle\"\n                            name=\"title\"\n                            value={form.title}\n                            placeholder=\"Recipe Title\"\n                            onChange={nonDynamicChange}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"recipeSource\"> Source: </label>\n                        <input\n                            id=\"recipeSource\"\n                            name=\"source\"\n                            value={form.source}\n                            placeholder=\"Ex. Grandma, Mom\"\n                            onChange={nonDynamicChange}\n                        />\n                    </div>\n\n                    {\n                        form.ingredients.map((val, idx) => {\n                            const ingredientId = `name-${idx}`;\n                            return (\n                                <div key={`ingredient-${idx}`} className='ingredients form-group'>\n                                    <label htmlFor={ingredientId}>{`Ingredient #${idx + 1}: `}</label>\n                                    <input\n                                        type=\"text\"\n                                        name={ingredientId}\n                                        data-idx={idx}\n                                        value={form.ingredients[idx]}\n                                        id={ingredientId}\n                                        placeholder={`Enter Ingredient`}\n                                        onChange={ingredientChange}\n                                        className=\"name\"\n                                    />\n                                    <button onClick={(evt) => deleteIngredients(evt, idx)}>Delete</button>\n                                </div>\n                            )\n                        })\n                    }\n                    <button onClick={addIngredients} >Add Ingredients</button>\n                    {\n                        form.category.map((val, idx) => {\n                            const categoryId = `name-${idx}`;\n                            return (\n                                <div key={`category-${idx}`} className=\"categories form-group\">\n                                    <label htmlFor={categoryId}>{`Category #${idx + 1}: `}</label>\n                                    <input\n                                        type=\"text\"\n                                        name={categoryId}\n                                        placeholder={`Enter Category`}\n                                        data-idx={idx}\n                                        value={form.category[idx]}\n                                        id={categoryId}\n                                        className=\"type\"\n                                        onChange={categoryChange}\n                                    />\n                                    <button onClick={(evt) => deleteCategories(evt, idx)}>Delete</button>\n                                </div>\n                            )\n                        })\n                    }\n                    <button onClick={addCategory} >Add Categories</button>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"recipeInstructions\"> Instructions: </label>\n                        <textarea\n                            id=\"recipeInstructions\"\n                            name=\"instructions\"\n                            value={form.instructions}\n                            placeholder=\"Instructions\"\n                            onChange={nonDynamicChange}\n                        />\n                    </div>\n                    <button>Submit</button>\n                </form>\n            </Container>\n        </div>\n    );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addRecipe: (obj) => dispatch(addRecipe(obj))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(RecipeForm);\n\n/*\nRecipeForm should have a title, source (ex Grandma), ingredients, instructions, and category (dinner, chicken, dessert, pasta)\n*/"]},"metadata":{},"sourceType":"module"}