{"ast":null,"code":"import { FETCH_REQUEST_PROGRESS, FETCH_REQUEST_SUCCESS, FETCH_REQUEST_FAILURE, ADD_NEW_RECIPE, DELETE_RECIPE, SET_ERROR_MESSAGE, SEARCH_RECIPE, CLEAR_SEARCH } from '../actions/index.js';\nimport fakeRecipeData from \"../Utils/fakedata\";\nconst initialState = {\n  recipes: [...fakeRecipeData],\n  loading: false,\n  error: ''\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_REQUEST_PROGRESS:\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_REQUEST_SUCCESS:\n      return { ...state,\n        loading: false,\n        recipes: action.payload,\n        error: ''\n      };\n\n    case FETCH_REQUEST_FAILURE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case ADD_NEW_RECIPE:\n      return { ...state,\n        loading: false,\n        error: '',\n        recipes: [...state.recipes, action.payload]\n      };\n\n    case DELETE_RECIPE:\n      return { ...state,\n        loading: false,\n        recipes: state.recipes.filter(recipe => recipe.id !== action.payload)\n      };\n\n    case SET_ERROR_MESSAGE:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case SEARCH_RECIPE:\n      return { ...state,\n        loading: false,\n        recipes: state.recipes.filter(recipe => {\n          return recipe.title.toLowerCase() === action.payload.toLowerCase() || recipe.category.map(cat => {\n            if (cat.type.toLowerCase() === action.payload.toLowerCase()) return recipe;\n          });\n        })\n      };\n\n    /*recipe.title.toLowerCase() === action.payload.toLowerCase() */\n\n    case CLEAR_SEARCH:\n      return { ...state,\n        loading: false,\n        recipes: [...fakeRecipeData]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/jayaramnair/Desktop/Lambda School/repos/Build-Week/frontend/recipes/src/reducers/index.js"],"names":["FETCH_REQUEST_PROGRESS","FETCH_REQUEST_SUCCESS","FETCH_REQUEST_FAILURE","ADD_NEW_RECIPE","DELETE_RECIPE","SET_ERROR_MESSAGE","SEARCH_RECIPE","CLEAR_SEARCH","fakeRecipeData","initialState","recipes","loading","error","reducer","state","action","type","payload","filter","recipe","id","title","toLowerCase","category","map","cat"],"mappings":"AAAA,SAASA,sBAAT,EAAiCC,qBAAjC,EAAwDC,qBAAxD,EAA+EC,cAA/E,EAA+FC,aAA/F,EAA8GC,iBAA9G,EAAiIC,aAAjI,EAAgJC,YAAhJ,QAAoK,qBAApK;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAE,CAAC,GAAGF,cAAJ,CADQ;AAEjBG,EAAAA,OAAO,EAAE,KAFQ;AAGjBC,EAAAA,KAAK,EAAE;AAHU,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKhB,sBAAL;AACI,aAAO,EAAE,GAAGc,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACJ,SAAKV,qBAAL;AACI,aAAO,EAAE,GAAGa,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BD,QAAAA,OAAO,EAAEK,MAAM,CAACE,OAA5C;AAAqDL,QAAAA,KAAK,EAAE;AAA5D,OAAP;;AACJ,SAAKV,qBAAL;AACI,aAAO,EAAE,GAAGY,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAA1C,OAAP;;AACJ,SAAKd,cAAL;AACI,aAAO,EAAE,GAAGW,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAE,EAAnC;AAAuCF,QAAAA,OAAO,EAAE,CAAC,GAAGI,KAAK,CAACJ,OAAV,EAAmBK,MAAM,CAACE,OAA1B;AAAhD,OAAP;;AACJ,SAAKb,aAAL;AACI,aAAO,EAAE,GAAGU,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BD,QAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAN,CAAcQ,MAAd,CAAsBC,MAAD,IAAYA,MAAM,CAACC,EAAP,KAAcL,MAAM,CAACE,OAAtD;AAArC,OAAP;;AACJ,SAAKZ,iBAAL;AACI,aAAO,EAAE,GAAGS,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAA1C,OAAP;;AACJ,SAAKX,aAAL;AACI,aAAO,EACH,GAAGQ,KADA;AACOH,QAAAA,OAAO,EAAE,KADhB;AAEHD,QAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAN,CAAcQ,MAAd,CAAsBC,MAAD,IAAY;AACtC,iBAAOA,MAAM,CAACE,KAAP,CAAaC,WAAb,OAA+BP,MAAM,CAACE,OAAP,CAAeK,WAAf,EAA/B,IACHH,MAAM,CAACI,QAAP,CAAgBC,GAAhB,CAAqBC,GAAD,IAAS;AAAE,gBAAIA,GAAG,CAACT,IAAJ,CAASM,WAAT,OAA2BP,MAAM,CAACE,OAAP,CAAeK,WAAf,EAA/B,EAA6D,OAAOH,MAAP;AAAe,WAA3G,CADJ;AAEH,SAHQ;AAFN,OAAP;;AAOJ;;AACA,SAAKZ,YAAL;AACI,aAAO,EAAE,GAAGO,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BD,QAAAA,OAAO,EAAE,CAAC,GAAGF,cAAJ;AAArC,OAAP;;AACJ;AACI,aAAOM,KAAP;AAzBR;AA2BH,CA5BD;;AA8BA,eAAeD,OAAf","sourcesContent":["import { FETCH_REQUEST_PROGRESS, FETCH_REQUEST_SUCCESS, FETCH_REQUEST_FAILURE, ADD_NEW_RECIPE, DELETE_RECIPE, SET_ERROR_MESSAGE, SEARCH_RECIPE, CLEAR_SEARCH } from '../actions/index.js';\nimport fakeRecipeData from \"../Utils/fakedata\";\n\nconst initialState = {\n    recipes: [...fakeRecipeData],\n    loading: false,\n    error: ''\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FETCH_REQUEST_PROGRESS:\n            return { ...state, loading: true }\n        case FETCH_REQUEST_SUCCESS:\n            return { ...state, loading: false, recipes: action.payload, error: '' }\n        case FETCH_REQUEST_FAILURE:\n            return { ...state, loading: false, error: action.payload }\n        case ADD_NEW_RECIPE:\n            return { ...state, loading: false, error: '', recipes: [...state.recipes, action.payload] }\n        case DELETE_RECIPE:\n            return { ...state, loading: false, recipes: state.recipes.filter((recipe) => recipe.id !== action.payload) }\n        case SET_ERROR_MESSAGE:\n            return { ...state, loading: false, error: action.payload }\n        case SEARCH_RECIPE:\n            return {\n                ...state, loading: false,\n                recipes: state.recipes.filter((recipe) => {\n                    return recipe.title.toLowerCase() === action.payload.toLowerCase() ||\n                        recipe.category.map((cat) => { if (cat.type.toLowerCase() === action.payload.toLowerCase()) return recipe });\n                })\n            }\n        /*recipe.title.toLowerCase() === action.payload.toLowerCase() */\n        case CLEAR_SEARCH:\n            return { ...state, loading: false, recipes: [...fakeRecipeData] };\n        default:\n            return state;\n    }\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}